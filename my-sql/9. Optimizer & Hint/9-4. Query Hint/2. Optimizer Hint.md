## 옵티마이저 힌트
### 옵티마이저 힌트 종류
- 인덱스
  - 특정 인덱스의 이름들 사용할 수 잇는 힌트
- 테이블
  - 특정 테이블의 이름을 사용할 수 있는 힌트
- 쿼리블록
  - 특정 쿼리 블록에 사용할 수 있는 옵티마이저 힌트로서, 특정 쿼리 블록의 이름을 명시하는 것이 아니라 힌트가 명시된 쿼리 블록에 대해서만 영향을 미치는 힌트
- 글로벌
  - 전체 쿼리에 대해서 영향을 미치는 힌트

- 구분으로 인해 힌트의 사용위치가 달라지는 건 아님. 
- 모든 인덱스 수준의 힌트는 반드시 테이블명이 선행되어야 함
  - INDEX(table_name, index_name)
- 옵티마이저 힌트가 문법에 맞지 않게 잘못 사용된 경우에는 경고 메세지가 표시된다. 

- 하나의 SQL문장에서 SELECT 키워드는 여러번 사용될 수 있는데 SELECT 키워드로 시작하는 서브쿼리 영역을 쿼리 블록이라고 한다.
- 특정 쿼리 블록에 영향을 미치는 힌트는 그 쿼리 블록 내에서 사용될 수도 있지만 외부 쿼리 블록에서 사용할 수도 있다.
- 특정 쿼리 블록을 외부 쿼리 블록에서 아용하려면 QB_NAME() 힌트를 사용해 해당 쿼리 블록에 이름을 부여하여야 한다.

### MAX_EXECUTION_TIME
- 옵티마이저 힌트 중에서 유일하게 쿼리의 실행 계획에 영향을 미치지 않는 힌트
- 단순히 쿼리의 최대 실행 시간을 설정하는 힌트
- 밀리초 단위의 시간을 설정하고 쿼리가 해당 시간을 초과하면 쿼리는 실패하게 된다.

### SET_VAR
- MySQL 서버의 변수들 또한 쿼리의 실행 계획에 상당한 영향을 미친다.
- 특정 쿼리 실행시 시스템 변수를 제어해서 실행 계획에 영향을 주도록 한다.
- 실행 계획을 바꾸는 용도뿐아니라 조인 버퍼나 정렬용 버퍼의 크기를 일시적으로 증가시켜 대용량 처리 쿼리의 성능을 향상시키는 용도로도 사용할 수 있다.
- 하지만 모든 시스템 변수를 조정할 수는 없다.

### SEMIJOIN & NO_SEMIJOIN
- Table Pull-out 최적화 전략을 별도로 힌트를 사용할 수 없다. 해당 전략을 그 전략을 사용할 수 있다면 항상 더 나은 성능을 보장하기 때문이다.
- 하지만 다른 최적화 전략들은 상황에 따라 다른 최적화 전략으로 우회하는 것이 더 나은 성능을 낼 수도 있기 때문에 NO_SEMIJOIN 힌트도 제공된다.

### SUBQUERY
- 세미조인 최적화가 사용되지 못할 때 사용하는 최적화 방법이며 2가지 형태로 최족화할 수 있다.
  - IN-toEXISTS
    - SUBQUERY(INTOEXISTS)
  - Materialization
    - SUBQUERY(MATERIALIZATION)
- 세미 조인 최적화는 주로 IN(subquery) 형태의 쿼리에 사용될 수 있지만 안티 세미 조인의 최적화에는 사용될 수 없다. 그래서 안티 세미 조인 최적화에는 위 2가지 최적화가 사용된다.
- 서브쿼리에 힌트를 사용하거나 서브쿼리에 쿼리 블록 이름을 지정해서 외부 쿼리 블록에서 최적화 방법을 명시하면 된다.

### BNL & NO_BNL & HASHJOIN & NO_HASHJOIN
- 